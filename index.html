<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zayedlovescat's RNG Generator</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive;
            text-align: center;
            margin: 30px;
        }

        h1 {
            color: #3498db;
            font-size: 24px;
            margin-bottom: 10px;
        }

        button {
            background-color: #2ecc71;
            color: #fff;
            padding: 8px 15px;
            font-size: 14px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        p {
            font-size: 16px;
            color: #34495e;
            white-space: nowrap;
        }

        #savedScores {
            display: flex;
            flex-direction: column-reverse;
            align-items: center;
        }

        #indexList {
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 5px;
            margin-top: 20px;
            position: fixed;
            top: 50px;
            right: 20px;
            max-height: 150px; /* Limiting the height */
            overflow-y: auto; /* Adding a scrollbar if needed */
            width: 200px; /* Adjust the width */
            text-align: left; /* Align text to the left */
            display: none; /* Hide by default */
        }

        #closeButton {
            background-color: #e74c3c;
        }

        #indexButton {
            background-color: #2ecc71;
            color: #fff;
            padding: 8px 15px;
            font-size: 14px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            position: fixed;
            top: 10px;
            right: 20px;
        }

        #changeBackgroundColorButton {
            background-color: #2ecc71;
            color: #fff;
            padding: 8px 15px;
            font-size: 14px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<h1>Zayedlovescat's RNG Generator</h1>

<button onclick="generateRandomNumber()">Generate Number</button>
<button onclick="saveScore()">Save</button>
<button id="changeBackgroundColorButton" onclick="changeBackgroundColor()">Change Background Color</button>

<p id="randomNumber"></p>

<div id="savedScores"></div>

<div id="indexList"></div>

<script>
    let currentFraction;
    let savedFractions = JSON.parse(localStorage.getItem("savedFractions")) || [];
    let isSaved = false;

    function generateRandomNumber() {
        const random = Math.random();
        let numerator, denominator, name;

        if (random < 0.5) {
            numerator = 1;
            denominator = 2;
            name = "Coal";
        } else if (random < 0.7) {
            numerator = 1;
            denominator = 5;
            name = "Iron";
        } else if (random < 0.8) {
            numerator = 1;
            denominator = 10;
            name = "Gold";
        } else {
            // Change Default to Dirt
            numerator = 1;
            denominator = 1;
            name = "Dirt";
        }

        currentFraction = `${numerator}/${denominator}`;
        isSaved = false;

        document.getElementById("randomNumber").innerText = `${name} (${currentFraction})`;
    }

    function saveScore() {
        if (currentFraction !== undefined && !isSaved) {
            savedFractions.push({ name, fraction: currentFraction });
            savedFractions = savedFractions.filter(item => item.fraction !== undefined); // Filter out undefined entries
            savedFractions.sort((a, b) => eval(b.fraction) - eval(a.fraction)); // Sort fractions in descending order
            localStorage.setItem("savedFractions", JSON.stringify(savedFractions));
            displaySavedScores();
            isSaved = true;
        } else if (isSaved) {
            alert("You have already saved this fraction!");
        } else {
            alert("Generate a fraction first!");
        }
    }

    function displaySavedScores() {
        const savedScoresElement = document.getElementById("savedScores");
        savedScoresElement.innerHTML = "";
        savedFractions.forEach(item => {
            const p = document.createElement("p");
            p.innerText = `Saved Fraction: ${item.name} (${item.fraction})`;
            savedScoresElement.appendChild(p);
        });
    }

    function showIndex() {
        const indexList = document.getElementById("indexList");
        indexList.innerHTML = "";
        
        const indexItems = [
            { numerator: 1, denominator: 2, name: "Coal" },
            { numerator: 1, denominator: 5, name: "Iron" },
            { numerator: 1, denominator: 10, name: "Gold" },
            { numerator: 1, denominator: 1, name: "Dirt" }
        ];

        indexItems.forEach(item => {
            const p = document.createElement("p");
            p.innerText = `${item.numerator}/${item.denominator} (${item.name})`;
            indexList.appendChild(p);
        });

        const closeButton = document.createElement("button");
        closeButton.id = "closeButton";
        closeButton.innerText = "Close";
        closeButton.onclick = function() {
            indexList.style.display = "none"; // Hide the indexList
        };

        indexList.appendChild(closeButton);
        indexList.style.display = "block"; // Show the indexList
    }

    function changeBackgroundColor() {
        const hexColor = prompt("Enter Hex Color Code (e.g., #3498db):");
        document.body.style.backgroundColor = hexColor;
    }

    // Load saved fractions on page load
    document.addEventListener("DOMContentLoaded", function() {
        displaySavedScores();
    });
</script>

<button id="indexButton" onclick="showIndex()">Index</button>

</body>
</html>
