<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZayedLovesCats RNG Generator</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive;
            text-align: center;
            margin: 30px;
        }

        h1 {
            color: #3498db;
            font-size: 24px;
            margin-bottom: 10px;
        }

        button {
            background-color: #2ecc71;
            color: #fff;
            padding: 8px 15px;
            font-size: 14px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        p {
            font-size: 16px;
            color: #34495e;
            white-space: nowrap;
        }

        #savedScores {
            display: flex;
            flex-direction: column-reverse;
            align-items: center;
        }

        #indexList {
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 5px;
            margin-top: 20px;
            margin-left: 1900px;
            max-height: 450px; /* Limiting the height */
            overflow-y: auto; /* Adding a scrollbar if needed */
            width: 350px; /* Adjust the width */
            text-align: left; /* Align text to the left */
            position: fixed; /* Change position to fixed */
            display: none; /* Hide by default */
        }

        #inventory {
            background-color: #f0f0f0;
            padding: 15px; /* Adjusted padding */
            border-radius: 5px;
            margin-top: 20px;
            margin-left: 20px; /* Adjusted to be on the left side */
            width: 350px; /* Adjusted width */
            max-height: 900px; /* Adjusted height */
            overflow-y: auto; /* Adding a scrollbar if needed */
            text-align: center;
            position: fixed; /* Change position to fixed */
            display: none; /* Hide by default */
        }

        #indexButton {
            background-color: #2ecc71;
            color: #fff;
            padding: 8px 15px;
            font-size: 14px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        #inventoryButton {
            background-color: #2ecc71;
            color: #fff;
            padding: 8px 15px;
            font-size: 14px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        #changeBackgroundColorButton {
            background-color: #2ecc71;
            color: #fff;
            padding: 8px 15px;
            font-size: 14px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<h1>ZayedLovesCats RNG Generator</h1>

<button onclick="generateRandomNumber()">Generate Number</button>
<button onclick="saveScore()">Save</button>
<button id="changeBackgroundColorButton" onclick="changeBackgroundColor()">Change Background Color</button>
<button id="indexButton" onclick="toggleIndex()">Index</button>
<button id="inventoryButton" onclick="toggleInventory()">Inventory</button>

<p id="randomNumber"></p>

<div id="savedScores"></div>

<div id="indexList"></div>
<div id="inventory"></div>

<script>
    let currentFraction;
    let savedFractions = JSON.parse(localStorage.getItem("savedFractions")) || [];
    let isSaved = false;

    function generateRandomNumber() {
        const random = Math.random();
        let numerator, denominator, name;

        if (random < 0.5) {
            numerator = 1;
            denominator = 2;
            name = "Coal";
        } else if (random < 0.7) {
            numerator = 1;
            denominator = 5;
            name = "Iron";
        } else if (random < 0.8) {
            numerator = 1;
            denominator = 10;
            name = "Gold";
        } else {
            // Change Default to Dirt
            numerator = 1;
            denominator = 1;
            name = "Dirt";
        }

        currentFraction = `${numerator}/${denominator}`;
        isSaved = false;

        document.getElementById("randomNumber").innerText = `${name} (${currentFraction})`;
    }

    function saveScore() {
        if (currentFraction !== undefined && !isSaved) {
            savedFractions.push({ name, fraction: currentFraction });
            savedFractions = savedFractions.filter(item => item.fraction !== undefined); // Filter out undefined entries
            savedFractions.sort((a, b) => eval(a.fraction) - eval(b.fraction)); // Sort fractions in ascending order
            localStorage.setItem("savedFractions", JSON.stringify(savedFractions));
            displayInventory();
            isSaved = true;
        } else if (isSaved) {
            alert("You have already saved this fraction!");
        } else {
            alert("Generate a fraction first!");
        }
    }

    function displayInventory() {
        const inventoryElement = document.getElementById("inventory");
        inventoryElement.innerHTML = "";

        savedFractions.forEach(item => {
            const p = document.createElement("p");
            p.innerText = `${item.name} (${item.fraction})`;
            inventoryElement.appendChild(p);
        });

        inventoryElement.style.display = "block"; // Show the inventory
    }

    function showIndex() {
        const indexList = document.getElementById("indexList");
        indexList.innerHTML = "";
        
        const indexItems = [
            { numerator: 1, denominator: 10, name: "Gold" },
            { numerator: 1, denominator: 5, name: "Iron" },
            { numerator: 1, denominator: 2, name: "Coal" },
            { numerator: 1, denominator: 1, name: "Dirt" }
        ];

        indexItems.forEach(item => {
            const p = document.createElement("p");
            p.innerText = `${item.numerator}/${item.denominator} (${item.name})`;
            indexList.appendChild(p);
        });

        indexList.style.display = "block"; // Show the indexList
    }

    function toggleIndex() {
        const indexList = document.getElementById("indexList");
        if (indexList.style.display === "none") {
            showIndex();
        } else {
            indexList.style.display = "none";
        }
    }

    function toggleInventory() {
        const inventoryElement = document.getElementById("inventory");
        if (inventoryElement.style.display === "none") {
            displayInventory();
        } else {
            inventoryElement.style.display = "none";
        }
    }

    function changeBackgroundColor() {
        const hexColor = prompt("Enter Hex Color Code (e.g., #3498db):");
        document.body.style.backgroundColor = hexColor;
    }

    // Load saved fractions on page load
    document.addEventListener("DOMContentLoaded", function() {
        displayInventory();
    });
</script>

</body>
</html>
