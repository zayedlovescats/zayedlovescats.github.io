<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zayedlovescat's RNG Generator</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive;
            text-align: center;
            margin: 30px;
        }

        h1 {
            color: #3498db;
            font-size: 24px;
            margin-bottom: 10px;
        }

        button {
            background-color: #2ecc71;
            color: #fff;
            padding: 8px 15px;
            font-size: 14px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        p {
            font-size: 16px;
            color: #34495e;
            white-space: nowrap;
        }

        #savedScores {
            display: flex;
            flex-direction: column-reverse;
            align-items: center;
        }

        #inventoryList {
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 5px;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<h1>Zayedlovescat's RNG Generator</h1>

<button onclick="generateRandomNumber()">Generate Number</button>
<button onclick="saveScore()">Save</button>
<button onclick="changeBackgroundColor()">Change Background Color</button>
<button onclick="showIndex()">Index</button>
<button onclick="showInventory()">Inventory</button>

<p id="randomNumber"></p>

<div id="savedScores"></div>
<div id="inventoryList"></div>

<script>
    let currentFraction;
    let savedFractions = JSON.parse(localStorage.getItem("savedFractions")) || [];
    let isSaved = false;

    function generateRandomNumber() {
        const random = Math.random();
        let numerator, denominator, name;

        if (random < 0.5) {
            numerator = 1;
            denominator = 2;
            name = "Coal";
        } else if (random < 0.7) {
            numerator = 1;
            denominator = 5;
            name = "Iron";
        } else if (random < 0.8) {
            numerator = 1;
            denominator = 10;
            name = "Gold";
        } else {
            // Change Default to Dirt
            numerator = 1;
            denominator = 1;
            name = "Dirt";
        }

        currentFraction = `${numerator}/${denominator}`;
        isSaved = false;

        document.getElementById("randomNumber").innerText = `${name} (${currentFraction})`;
    }

    function saveScore() {
        if (currentFraction !== undefined && !isSaved) {
            savedFractions.push({ name, fraction: currentFraction });
            savedFractions = savedFractions.filter(item => item.fraction !== undefined); // Filter out undefined entries
            savedFractions.sort((a, b) => eval(b.fraction) - eval(a.fraction)); // Sort fractions in descending order
            localStorage.setItem("savedFractions", JSON.stringify(savedFractions));
            displaySavedScores();
            isSaved = true;
        } else if (isSaved) {
            alert("You have already saved this fraction!");
        } else {
            alert("Generate a fraction first!");
        }
    }

    function displaySavedScores() {
        const savedScoresElement = document.getElementById("savedScores");
        savedScoresElement.innerHTML = "";
        savedFractions.forEach(item => {
            const p = document.createElement("p");
            p.innerText = `Saved Fraction: ${item.name} (${item.fraction})`;
            savedScoresElement.appendChild(p);
        });
    }

    function showIndex() {
        const indexList = document.getElementById("inventoryList");
        indexList.innerHTML = "";
        
        const indexItems = [
            { name: "Coal", value: "1/2" },
            { name: "Iron", value: "1/5" },
            { name: "Gold", value: "1/10" },
            { name: "Dirt", value: "1/1" }
        ];

        indexItems.forEach(item => {
            const p = document.createElement("p");
            p.innerText = `${item.name}: ${item.value}`;
            indexList.appendChild(p);
        });
    }

    function showInventory() {
        const inventoryList = document.getElementById("inventoryList");
        inventoryList.innerHTML = "";
        
        savedFractions.forEach(item => {
            const p = document.createElement("p");
            p.innerText = `Saved Fraction: ${item.name} (${item.fraction})`;
            inventoryList.appendChild(p);
        });

        // Add a button to change the background color of the inventory list
        const changeColorButton = document.createElement("button");
        changeColorButton.innerText = "Change Inventory Background Color";
        changeColorButton.onclick = () => changeInventoryBackgroundColor();
        inventoryList.appendChild(changeColorButton);
    }

    function changeInventoryBackgroundColor() {
        const hexColor = prompt("Enter Hex Color Code for Inventory Background (e.g., #f0f0f0):");
        document.getElementById("inventoryList").style.backgroundColor = hexColor;
    }

    // Load saved fractions on page load
    document.addEventListener("DOMContentLoaded", function() {
        displaySavedScores();
    });
</script>

</body>
</html>
